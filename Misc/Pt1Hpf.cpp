/// ********************************************************************************************************************
/// @author   imindude@gmail.com
/// ********************************************************************************************************************

#include <iostream>
#include <cmath>
#include "Pt1Hpf.h"

/// ********************************************************************************************************************

void Pt1Hpf::Init(int32_t cutoff_freq, int32_t sample_freq)
{
  float   dt = 1.0f / static_cast<float>(sample_freq);
  float   rc = 1.0f / (2.0f * M_PI * static_cast<float>(cutoff_freq));

  a_ = rc / (rc + dt);
  x_ = 0;
  y_ = 0;
}

float Pt1Hpf::Update(float x)
{
  y_ = a_ * (y_ + x - x_);
  x_ = x;

  return y_;
}

/// EOF ****************************************************************************************************************
